(this["webpackJsonpreact-tictactoe"]=this["webpackJsonpreact-tictactoe"]||[]).push([[0],{18:function(e,t,n){"use strict";n.r(t);var r=n(1),o=n.n(r),a=n(7),s=n.n(a);const i=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function c(e,t){navigator.serviceWorker.register(e).then((e=>{e.onupdatefound=()=>{const n=e.installing;null!=n&&(n.onstatechange=()=>{"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((e=>{console.error("Error during service worker registration:",e)}))}var l=n(6),h=n.n(l);const u=o.a.createContext(),d="MAKE_MOVE",p="RESET_GAME",b=(e,t)=>({type:d,x:e,y:t});var m=n(3),w=n.n(m),x=n(0);const f=o.a.memo((({value:e,x:t,y:n})=>{const o=Object(r.useContext)(u),a=[w.a.root],s=Object(r.useCallback)((()=>o(b(t,n))),[o,t,n]);let i=String.fromCharCode(160);return 1===e?i="X":2===e?i="O":a.push(w.a.open),Object(x.jsx)("div",{className:a.join(" "),onClick:s,children:Object(x.jsx)("div",{className:w.a.symbol,children:i})})}),((e,t)=>e.value===t.value));f.displayName="TicTacToeSpace";var g=f,v=n(8),j=n.n(v);const y=o.a.memo((({rows:e,x:t})=>Object(x.jsx)("div",{className:j.a.root,children:e.map(((e,n)=>Object(x.jsx)(g,{value:e,x:t,y:n},`${t}_${n}`)))})),((e,t)=>e.rows.every(((e,n)=>t.rows[n]===e))&&e.x===t.x));y.displayName="TicTacToeColumn",y.propTypes={rows:h.a.array.isRequired,x:h.a.number.isRequired};var O=y,_=n(9),P=n.n(_);const T=({columns:e})=>Object(x.jsx)("div",{className:P.a.root,children:e.map(((e,t)=>Object(x.jsx)(O,{rows:e,x:t},function(e,t){return t+e.reduce(((e,t)=>e+t),"")}(e,t))))});T.displayName="TicTacToe";var k=T;const C=[[0,0],[2,0],[0,2],[2,2]];function N({winner:e},t=0){return e?t+(1===e?9:-9):0}function E(e,t=0){if(t>=9)throw new Error("Minimax reached impossible depth");if(0!==e.winner)return{score:N(e,t)};const n=[],r=[];e.openSpaces.forEach((o=>{const{score:a}=E(e.cloneMove.apply(e,o),t+1);n.push(o),r.push(a)}));const o=r.indexOf(Math[1===e.nextPlayer?"max":"min"].apply(Math,r));return{move:n[o],score:r[o]}}function S(e){return 8===e.openSpaces.length?function({board:e}){return 0===e[1][1]?[1,1]:C[Math.floor(4*Math.random())]}(e):E(e).move}var M=n(2),A=n(10);const R=[[[0,0],[0,1],[0,2]],[[0,0],[1,0],[2,0]],[[2,0],[2,1],[2,2]],[[0,2],[1,2],[2,2]],[[1,0],[1,1],[1,2]],[[0,1],[1,1],[2,1]],[[0,0],[1,1],[2,2]],[[0,2],[1,1],[2,0]]];function W([e,t],[n,r],[o,a]){const s=this[e][t];return this[n][r]===s&&this[o][a]===s?s:0}function B(e){const t=e.openSpaces;if(t.length>4)return 0;let n=R.length,r=0;do{r=W.apply(e.board,R[n-1]),n--}while(!r&&n>0);return r||0!==t.length?r:-1}const q=(e,t)=>e>=0&&e<3&&t>=0&&t<3;var G=Object(A.a)("state");class J{constructor(e){Object.defineProperty(this,G,{writable:!0,value:void 0}),this.reset(e)}get board(){return Object(M.a)(this,G)[G].board}get nextPlayer(){return Object(M.a)(this,G)[G].nextPlayer}get openSpaces(){const e=[];for(let t=0;t<3;t++)for(let n=0;n<3;n++)this.board[t][n]||e.push([t,n]);return e}get winner(){return Object(M.a)(this,G)[G].winner}reset(e){return Object(M.a)(this,G)[G]={board:[[0,0,0],[0,0,0],[0,0,0]],nextPlayer:1,winner:0,...e},e&&(Object(M.a)(this,G)[G].winner=B(this)),Object(M.a)(this,G)[G]}move(e,t){const n=Object(M.a)(this,G)[G];return!q(e,t)||0!==this.winner||this.board[e][t]||(n.board[e][t]=n.nextPlayer,n.winner=B(this),n.nextPlayer=1===n.nextPlayer?2:1),n}cloneMove(e,t){if(!q(e,t)||0!==this.winner||this.board[e][t])return this;const n=this.board.map((e=>e.slice()));return n[e][t]=this.nextPlayer,new J({board:n,nextPlayer:1===this.nextPlayer?2:1})}}const U=new J,$={board:[[0,0,0],[0,0,0],[0,0,0]],nextPlayer:1,winner:0},D=({board:e,nextPlayer:t,winner:n})=>({board:e,nextPlayer:t,winner:n});function I(e,{type:t,x:n,y:r}){switch(t){case d:return D(U.move(n,r));case p:return D(U.reset());default:return e}}var L=n(4),F=n.n(L);const H=()=>{const[e,t]=Object(r.useReducer)(I,$),n=Object(r.useCallback)((()=>t({type:p})),[t]);Object(r.useEffect)((()=>{0===e.winner&&2===e.nextPlayer&&t(b.apply(U,S(U)))}));let o="Game on! :)";return e.winner>0?o="Player "+e.winner+" has won the game!":-1===e.winner&&(o="The game has been drawn!"),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(u.Provider,{value:t,children:Object(x.jsx)(k,{columns:e.board})}),Object(x.jsx)("div",{className:F.a.message,children:o}),Object(x.jsx)("button",{className:F.a.btn,onClick:n,children:"Reset Game"}),Object(x.jsxs)("div",{className:F.a.github,children:[Object(x.jsx)("iframe",{frameBorder:"0",height:"20px",scrolling:"0",src:"https://ghbtns.com/github-btn.html?user=awkaiser&repo=react-tictactoe&type=star",title:"github-star",width:"51px"}),Object(x.jsx)("iframe",{frameBorder:"0",height:"20px",scrolling:"0",src:"https://ghbtns.com/github-btn.html?user=awkaiser&type=follow",title:"github-follow",width:"123px"})]})]})};H.displayName="App";var K=H;s.a.render(Object(x.jsx)(K,{}),document.getElementById("tictactoe")),function(e){if("serviceWorker"in navigator){if(new URL("/react-tictactoe",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(()=>{const t="/react-tictactoe/service-worker.js";i?(!function(e,t){fetch(e).then((n=>{const r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((e=>{e.unregister().then((()=>{window.location.reload()}))})):c(e,t)})).catch((()=>{console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((()=>{console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")}))):c(t,e)}))}}()},3:function(e,t,n){e.exports={root:"Space_root__3EmfC",open:"Space_open__3PZqm",symbol:"Space_symbol__2D9HM"}},4:function(e,t,n){e.exports={message:"App_message__1bgJE",btn:"App_btn__aBDMl",github:"App_github__2ty2b"}},8:function(e,t,n){e.exports={root:"Column_root__3k8N7"}},9:function(e,t,n){e.exports={root:"TicTacToe_root__ITQpp"}}},[[18,1,2]]]);
//# sourceMappingURL=main.144e95f4.chunk.js.map